var bin2dec=function(a){var b=0;if(a=a.replace(/\s/g,""),-1!==a.indexOf(".")){var c=a.split("."),d=c[1];a=c[0];for(var e=0;e<d.length;++e)"1"==d[e]&&(b+=1/Math.pow(2,e+1))}a=a.split("").reverse().join("");for(var f=a.length-1;f>=0;--f)"1"==a[f]&&(b+=Math.pow(2,f));return b},dec2bin=function(a){var b=[];if(a*=1,0===a)return"0";if(Math.floor(a)!==a){for(var c=".",d=a%1,e=0;0!==d;++e)d*=2,c+=Math.floor(d),d%=1;return dec2bin(Math.floor(a))+c}for(var f=Math.floor(Math.log(a)/Math.log(2));f>=0;)a-Math.pow(2,f)>=0?(a-=Math.pow(2,f),b[f]="1"):b[f]="0",--f;return b.reverse().join("")},dec2hex=function(a){var b="0123456789ABCDEF",c=[];if(a=Math.floor(a),0===a)return"0";for(var d=Math.floor(Math.log(a)/Math.log(16));d>=0;)c[d]=Math.floor(a/Math.pow(16,d)),c[d]=b.charAt(c[d]),a%=Math.pow(16,d),--d;return c.reverse().join("")},hex2dec=function(a){var b="0123456789ABCDEF",c=0;a=a.toUpperCase(),a=a.split("").reverse().join("");for(var d=a.length-1;d>=0;--d){var e=b.indexOf(a[d]);c+=Math.pow(16,d)*e}return c},twoscomp=function(a){for(var b=a.split("").reverse(),c=[],d=b.length,e=0;d>e&&"1"!=b[e];)c[e]=b[e],++e;if(e>=d)return c.reverse().join("");for(c[e]="1",++e;d>e;)"1"==b[e]?c[e]="0":"0"==b[e]?c[e]="1":c[e]=b[e],++e;return c.reverse().join("")},pad=function(a,b,c){if(a+="",c=c||"0",a.length>b)return a.substr(0,b);for(;a.length<b;)a=c+a;return a},app=angular.module("FloatConverter",["ngSanitize"]);app.filter("format_bits",function(){return function(a){for(var b="",c=0;c<a.length;++c)b+='<span class="bit">'+a[c]+"</span>\n";return b}}),app.controller("Converter",["$scope",function(a){a.bits={sign:!0,exp:3,mantissa:5},a.decimal=0,a.exp_format="twos",a.word_len=function(b){return arguments.length?(a.bits.mantissa+=b-a.word_len(),b):(a.bits.sign?1:0)+a.bits.exp+a.bits.mantissa};var b=function(b){a.sign=0>b?"1":"0",b=Math.abs(b);var c=0,d=dec2bin(b);if(1>d){d=d.replace(/^0./,"");for(var e=0;"0"==d[e];++e,--c);d=d.substr(e)}else{var f=Math.floor(1*d)+"";c="0"==f?0:f.length,d=d.replace(/^0+|0+$|\./g,"")}d.length>a.bits.mantissa?d=d.substr(0,a.bits.mantissa):d.length<a.bits.mantissa&&(d+="0".repeat(a.bits.mantissa-d.length)),a.mantissa=d;var g=0>c;c=dec2bin(Math.abs(c)),"signed"==a.exp_format&&(c=(g?"1":"0")+c),c=pad(c,a.bits.exp),g&&"twos"==a.exp_format&&(c=twoscomp(c)),a.exp=c};b(0),a.$watch(function(){var c=a.decimal;c=parseFloat(c),isNaN(c)&&(console.log(c+" is not a valid number"),c=0),b(c)})}]);
//# sourceMappingURL=float.js.map